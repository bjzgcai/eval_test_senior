<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rich Text Editor - Live Demo</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
        }

        header h1 {
            font-size: 3rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }

        header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .demo-card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
            margin-bottom: 30px;
        }

        .card-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px 30px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .card-header h2 {
            font-size: 1.5rem;
            margin-bottom: 5px;
        }

        .card-header p {
            opacity: 0.9;
            font-size: 0.95rem;
        }

        .card-body {
            padding: 30px;
        }

        #editor-container {
            margin-bottom: 30px;
        }

        .demo-section {
            margin-top: 30px;
        }

        .demo-section h3 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.2rem;
            padding-bottom: 10px;
            border-bottom: 2px solid #f0f0f0;
        }

        .button-group {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }

        .demo-button {
            padding: 10px 20px;
            border: 2px solid #667eea;
            background: white;
            color: #667eea;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            font-size: 14px;
            transition: all 0.2s;
        }

        .demo-button:hover {
            background: #667eea;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        .demo-button:active {
            transform: translateY(0);
        }

        .demo-button.primary {
            background: #667eea;
            color: white;
        }

        .demo-button.primary:hover {
            background: #5568d3;
        }

        .info-panel {
            background: #f8f9fa;
            border-left: 4px solid #667eea;
            padding: 15px 20px;
            margin-top: 20px;
            border-radius: 4px;
        }

        .info-panel h4 {
            color: #667eea;
            margin-bottom: 10px;
            font-size: 1rem;
        }

        .info-panel ul {
            list-style: none;
            color: #666;
            font-size: 0.9rem;
        }

        .info-panel ul li {
            padding: 5px 0;
            padding-left: 20px;
            position: relative;
        }

        .info-panel ul li:before {
            content: "✓";
            position: absolute;
            left: 0;
            color: #667eea;
            font-weight: bold;
        }

        .output-section {
            margin-top: 30px;
        }

        .output-box {
            background: #f8f9fa;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            padding: 15px;
            max-height: 300px;
            overflow-y: auto;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
        }

        .stat-card .label {
            font-size: 0.9rem;
            opacity: 0.9;
            margin-bottom: 5px;
        }

        .stat-card .value {
            font-size: 2rem;
            font-weight: bold;
        }

        footer {
            text-align: center;
            color: white;
            margin-top: 40px;
            opacity: 0.9;
        }

        footer a {
            color: white;
            text-decoration: underline;
        }

        @media (max-width: 768px) {
            header h1 {
                font-size: 2rem;
            }

            .card-body {
                padding: 20px;
            }

            .button-group {
                flex-direction: column;
            }

            .demo-button {
                width: 100%;
            }
        }

        .keyboard-shortcuts {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 10px;
            margin-top: 15px;
        }

        .shortcut-item {
            background: white;
            padding: 10px;
            border-radius: 4px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 1px solid #e0e0e0;
        }

        .shortcut-key {
            background: #667eea;
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-family: monospace;
            font-size: 0.85rem;
            font-weight: bold;
        }

        .shortcut-desc {
            color: #666;
            font-size: 0.9rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>✨ Rich Text Editor</h1>
            <p>A production-ready, feature-rich text editor built with TypeScript</p>
        </header>

        <div class="demo-card">
            <div class="card-header">
                <h2>Live Editor Demo</h2>
                <p>Try out all the formatting features with different toolbar presets</p>
            </div>
            <div class="card-body">
                <div class="demo-section">
                    <h3>Toolbar Presets</h3>
                    <div class="button-group">
                        <button class="demo-button primary" onclick="demoActions.switchPreset('minimal')">Minimal (5 buttons)</button>
                        <button class="demo-button primary" onclick="demoActions.switchPreset('standard')">Standard (15+ buttons)</button>
                        <button class="demo-button primary" onclick="demoActions.switchPreset('full')">Full (25+ buttons)</button>
                        <button class="demo-button" onclick="demoActions.switchPreset(false)">No Toolbar</button>
                    </div>
                    <p style="color: #666; font-size: 0.9rem; margin-top: 10px;">
                        Current preset: <strong id="current-preset">standard</strong>
                    </p>
                </div>

                <div id="editor-container"></div>

                <div class="demo-section">
                    <h3>Quick Actions</h3>
                    <div class="button-group">
                        <button class="demo-button primary" onclick="demoActions.getSample()">Load Sample Content</button>
                        <button class="demo-button" onclick="demoActions.getHTML()">Get HTML</button>
                        <button class="demo-button" onclick="demoActions.clearContent()">Clear Content</button>
                        <button class="demo-button" onclick="demoActions.toggleReadOnly()">Toggle Read-Only</button>
                    </div>
                </div>

                <div class="demo-section">
                    <h3>Content Operations</h3>
                    <div class="button-group">
                        <button class="demo-button" onclick="demoActions.insertText()">Insert Text</button>
                        <button class="demo-button" onclick="demoActions.insertHTML()">Insert HTML</button>
                        <button class="demo-button" onclick="demoActions.getSelection()">Get Selection</button>
                    </div>
                </div>

                <div class="output-section">
                    <h3>Output</h3>
                    <div class="output-box" id="output">Click any action button to see the output here...</div>
                </div>

                <div class="stats">
                    <div class="stat-card">
                        <div class="label">Characters</div>
                        <div class="value" id="char-count">0</div>
                    </div>
                    <div class="stat-card">
                        <div class="label">Words</div>
                        <div class="value" id="word-count">0</div>
                    </div>
                    <div class="stat-card">
                        <div class="label">Undo Available</div>
                        <div class="value" id="can-undo">No</div>
                    </div>
                    <div class="stat-card">
                        <div class="label">Redo Available</div>
                        <div class="value" id="can-redo">No</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="demo-card">
            <div class="card-header">
                <h2>Features & Keyboard Shortcuts</h2>
                <p>Learn about all the available features</p>
            </div>
            <div class="card-body">
                <div class="info-panel">
                    <h4>✨ Core Features</h4>
                    <ul>
                        <li><strong>Configurable Toolbar:</strong> 3 presets (minimal, standard, full) or custom configuration</li>
                        <li><strong>Text Formatting:</strong> Bold, Italic, Underline, Strikethrough, Subscript, Superscript</li>
                        <li><strong>Colors:</strong> Text color and background color pickers</li>
                        <li><strong>Fonts:</strong> Font family and size selection</li>
                        <li><strong>Headings:</strong> H1-H6 and paragraph styles</li>
                        <li><strong>Lists:</strong> Bullet lists, numbered lists, indent/outdent</li>
                        <li><strong>Alignment:</strong> Left, center, right, justify</li>
                        <li><strong>Blocks:</strong> Blockquotes, inline code, code blocks, horizontal rules</li>
                        <li><strong>Links & Images:</strong> Insert/remove links, insert images</li>
                        <li><strong>Undo/Redo:</strong> Full history management with keyboard shortcuts</li>
                        <li><strong>Clear Formatting:</strong> Remove all formatting from selected text</li>
                        <li><strong>Plugin Architecture:</strong> Extensible design for custom functionality</li>
                        <li><strong>Event System:</strong> Track changes, selections, and user interactions</li>
                        <li><strong>Accessible:</strong> ARIA attributes and keyboard navigation</li>
                        <li><strong>Mobile Responsive:</strong> Works on all devices</li>
                    </ul>
                </div>

                <div class="demo-section">
                    <h3>⌨️ Keyboard Shortcuts</h3>
                    <div class="keyboard-shortcuts">
                        <div class="shortcut-item">
                            <span class="shortcut-desc">Bold</span>
                            <span class="shortcut-key">Ctrl+B</span>
                        </div>
                        <div class="shortcut-item">
                            <span class="shortcut-desc">Italic</span>
                            <span class="shortcut-key">Ctrl+I</span>
                        </div>
                        <div class="shortcut-item">
                            <span class="shortcut-desc">Underline</span>
                            <span class="shortcut-key">Ctrl+U</span>
                        </div>
                        <div class="shortcut-item">
                            <span class="shortcut-desc">Undo</span>
                            <span class="shortcut-key">Ctrl+Z</span>
                        </div>
                        <div class="shortcut-item">
                            <span class="shortcut-desc">Redo</span>
                            <span class="shortcut-key">Ctrl+Y</span>
                        </div>
                        <div class="shortcut-item">
                            <span class="shortcut-desc">Select All</span>
                            <span class="shortcut-key">Ctrl+A</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <footer>
            <p>Built with TypeScript • Open Source • <a href="https://github.com/wangeditor-team/wangEditor" target="_blank">Inspired by wangEditor</a></p>
        </footer>
    </div>

    <script type="module">
        // Import the editor from the compiled dist
        import { Editor } from '../dist/index.js';

        // Initialize the editor
        const editor = new Editor({
            container: '#editor-container',
            placeholder: 'Start typing your content here... Try using Ctrl+B for bold, Ctrl+I for italic!',
            content: '<p>Welcome to the <strong>Rich Text Editor</strong>! This is a powerful, extensible editor built from scratch.</p><p>Try selecting some text and clicking the toolbar buttons, or use keyboard shortcuts!</p>'
        });

        // Update stats on change
        function updateStats() {
            const content = editor.getContent();
            const text = content.replace(/<[^>]*>/g, '').trim();

            document.getElementById('char-count').textContent = text.length;
            document.getElementById('word-count').textContent = text ? text.split(/\s+/).length : 0;
            document.getElementById('can-undo').textContent = editor.canUndo() ? 'Yes' : 'No';
            document.getElementById('can-redo').textContent = editor.canRedo() ? 'Yes' : 'No';
        }

        // Listen to editor events
        editor.on('change', () => {
            updateStats();
        });

        editor.on('focus', () => {
            console.log('Editor focused');
        });

        editor.on('blur', () => {
            console.log('Editor blurred');
        });

        // Initial stats update
        updateStats();

        // Demo actions
        window.demoActions = {
            switchPreset(preset) {
                // Save current content
                const currentContent = editor.getContent();

                // Destroy current editor
                editor.destroy();

                // Create new editor with new preset
                const newEditor = new Editor({
                    container: '#editor-container',
                    placeholder: 'Start typing your content here...',
                    content: currentContent,
                    toolbar: preset
                });

                // Update global reference
                window.editor = newEditor;

                // Re-attach event listeners
                newEditor.on('change', () => {
                    updateStats();
                });

                // Update stats
                updateStats();

                // Update preset display
                const presetName = preset === false ? 'none' : preset;
                document.getElementById('current-preset').textContent = presetName;

                updateOutput(`Switched to ${presetName} toolbar preset!`);
            },

            getSample() {
                const sampleContent = `
                    <h1>Sample Document</h1>
                    <p>This is a <strong>sample document</strong> with <em>various</em> <u>formatting</u> options.</p>
                    <p>You can use the toolbar buttons or keyboard shortcuts to format your text:</p>
                    <ul>
                        <li>Make text <strong>bold</strong> with Ctrl+B</li>
                        <li>Make text <em>italic</em> with Ctrl+I</li>
                        <li>Make text <u>underlined</u> with Ctrl+U</li>
                        <li>Or use <s>strikethrough</s> from the toolbar</li>
                    </ul>
                    <p>Try editing this content and see the character/word count update in real-time!</p>
                `;
                editor.setContent(sampleContent);
                updateOutput('Sample content loaded successfully!');
            },

            getHTML() {
                const html = editor.getContent();
                updateOutput(`Current HTML:\n\n${html}`);
            },

            clearContent() {
                editor.setContent('');
                updateOutput('Content cleared!');
            },

            toggleReadOnly() {
                const editorEl = document.querySelector('.rte-editor');
                const isReadOnly = editorEl.contentEditable === 'false';
                editorEl.contentEditable = isReadOnly ? 'true' : 'false';
                updateOutput(`Read-only mode: ${isReadOnly ? 'OFF' : 'ON'}`);
            },

            insertText() {
                editor.focus();
                editor.insertText(' [Inserted Text] ');
                updateOutput('Text inserted at cursor position!');
            },

            insertHTML() {
                editor.focus();
                editor.insertHTML('<strong style="color: #667eea;">Inserted HTML</strong>');
                updateOutput('HTML inserted at cursor position!');
            },

            getSelection() {
                const selectedText = editor.getSelectedText();
                if (selectedText) {
                    updateOutput(`Selected text:\n\n"${selectedText}"`);
                } else {
                    updateOutput('No text selected. Please select some text first.');
                }
            }
        };

        function updateOutput(message) {
            document.getElementById('output').textContent = message;
        }

        // Make editor globally accessible for console debugging
        window.editor = editor;
        console.log('Editor initialized! Access it via window.editor');
        console.log('Try: editor.bold(), editor.italic(), editor.getContent()');
    </script>
</body>
</html>
